(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{101:function(e,t,r){},102:function(e,t,r){},132:function(e,t,r){"use strict";r.r(t);var a=r(1),c=r(28),n=r.n(c),s=(r(100),r(101),r(102),r(145)),i=r(137),o=r(146),l=r(33),j=r(90),d=r(2),u=function(){return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)(s.a,{bg:"dark",variant:"dark",expand:"lg",children:Object(d.jsxs)(i.a,{fluid:!0,children:[Object(d.jsxs)("h6",{className:"text-light",children:[Object(d.jsx)(j.a,{className:"text-warning"}),"\xa0\xa0 50% off on orders above Rs 500/-"]}),Object(d.jsxs)(o.a,{className:"ms-auto",children:[Object(d.jsx)(l.LinkContainer,{to:"/",activeClassName:!0,children:Object(d.jsx)(o.a.Link,{children:"Home"})}),Object(d.jsx)(l.LinkContainer,{to:"/about",activeClassName:!0,children:Object(d.jsx)(o.a.Link,{children:"About"})}),Object(d.jsx)(l.LinkContainer,{to:"/contact",activeClassName:!0,children:Object(d.jsx)(o.a.Link,{children:"Contact Us"})}),Object(d.jsx)(l.LinkContainer,{to:"/policy",activeClassName:!0,children:Object(d.jsx)(o.a.Link,{children:"Terms and Policy"})})]})]})})})},b=r(42),O=r(18),h=function(){return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("h1",{children:"About us page"})})},p=function(){return Object(d.jsx)("h1",{children:"Contact us page"})},x=function(){return Object(d.jsx)("h1",{children:" Terms and Policy"})},m=r(143),g=r(8),f=r(9),v=r.n(f),y=r(13),S=r(11),E=r.n(S),_=function(e){return function(){var t=Object(y.a)(v.a.mark((function t(r){var a;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r({type:"REGISTER_USER_REQUEST"}),t.prev=1,t.next=4,E.a.post("/api/users/register",e);case 4:a=t.sent,r({type:"REGISTER_USER_SUCCESS",payload:a}),window.location.href="/login",t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),r({type:"REGISTER_USER_FAIL",payload:t.t0});case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},C=function(){var e=Object(g.b)(),t=Object(g.c)((function(e){return e.cartReducer})),r=Object(g.c)((function(e){return e.loginReducer})).currentUser;return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)(s.a,{collapseOnSelect:!0,expand:"lg",bg:"light",variant:"light",children:Object(d.jsxs)(i.a,{children:[Object(d.jsx)(s.a.Brand,{href:"/",children:Object(d.jsx)("img",{src:"../images/logo1.png",style:{height:"50px"},alt:"logo"})}),Object(d.jsx)(s.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(d.jsx)(s.a.Collapse,{id:"responsive-navbar-nav",children:Object(d.jsxs)(o.a,{className:"ms-auto",children:[r?Object(d.jsx)(l.LinkContainer,{to:"/",children:Object(d.jsxs)(m.a,{title:r.name,id:"basic-nav-dropdown",children:[Object(d.jsx)(l.LinkContainer,{to:"/myorders",children:Object(d.jsx)(m.a.Item,{children:"My Orders"})}),Object(d.jsx)(m.a.Item,{onClick:function(){e((function(e){console.log("logging out..."),localStorage.removeItem("currentUser"),window.location.href="/"}))},children:"Log Out"})]})}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(l.LinkContainer,{to:"/login",children:Object(d.jsx)(o.a.Link,{children:"Login"})}),Object(d.jsx)(l.LinkContainer,{to:"/register",children:Object(d.jsx)(o.a.Link,{children:"Register"})})]}),Object(d.jsx)(l.LinkContainer,{to:"/cart",children:Object(d.jsxs)(o.a.Link,{children:["Cart ",t.cartItems.length]})})]})})]})})})},R=r(138),I=r(93),T=function(){return function(){var e=Object(y.a)(v.a.mark((function e(t){var r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"GET_PIZZAS_REQUEST"}),e.prev=1,e.next=4,E.a.get("/api/pizzas/getAllPizzas");case 4:r=e.sent,t({type:"GET_PIZZAS_SUCCESS",payload:r.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t({type:"GET_PIZZAS_FAIL",payload:e.t0});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},w=function(e){return function(){var t=Object(y.a)(v.a.mark((function t(r){var a;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r({type:"GET_PIZZABYID_REQUEST"}),t.prev=1,t.next=4,E.a.post("/api/pizzas/getpizzabyid",{pizzaId:e});case 4:a=t.sent,r({type:"GET_PIZZABYID_SUCCESS",payload:a.data}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),r({type:"GET_PIZZABYID_FAIL",payload:t.t0});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},A=function(){return function(){var e=Object(y.a)(v.a.mark((function e(t){var r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"GET_STOCK_REQUEST"}),e.prev=1,e.next=4,E.a.get("/api/inventory/getAllStock");case 4:r=e.sent,t({type:"GET_STOCK_SUCCESS",payload:r.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t({type:"GET_STOCK_FAIL",payload:e.t0});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},k=r(48),z=r(10),P=r(147),L=r(92),U=r(51),D=r(47),G=function(e,t,r,a){return function(){var c=Object(y.a)(v.a.mark((function c(n,s){var i,o;return v.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(i={name:e.name,_id:e._id,image:e.image,variant:r,quantity:Number(t),prices:e.prices,price:e.prices[0][r]*t,description:e.description?e.description:"",ingredients:e.ingredients?e.ingredients:{}},e.ingredients&&(o={base:e.ingredients.base,sauce:e.ingredients.sauce,cheese:e.ingredients.cheese,veggies:e.ingredients.veggies,qty:a?t/t*-1:t/t}),!(t<1)){c.next=23;break}if(n({type:"DELETE_FROM_CART",payload:i}),!e.ingredients){c.next=21;break}if(c.prev=5,!o){c.next=12;break}return c.next=9,E.a.post("/api/inventory/updatestock",o);case 9:c.t0=c.sent,c.next=13;break;case 12:c.t0={};case 13:c.t0,Object(D.a)("response"),n({type:"ADD_TO_CART",payload:i}),c.next=21;break;case 18:c.prev=18,c.t1=c.catch(5),console.log("error while updating stock.."+c.t1);case 21:c.next=42;break;case 23:if(!(t>10)){c.next=27;break}alert("Maximum quantity 10 per pizzas"),c.next=42;break;case 27:if(c.prev=27,!o){c.next=34;break}return c.next=31,E.a.post("/api/inventory/updatestock",o);case 31:c.t2=c.sent,c.next=35;break;case 34:c.t2={};case 35:c.t2,n({type:"ADD_TO_CART",payload:i}),c.next=42;break;case 39:c.prev=39,c.t3=c.catch(27),console.log("error while updating stock.."+c.t3);case 42:localStorage.setItem("cartItems",JSON.stringify(s().cartReducer.cartItems));case 43:case"end":return c.stop()}}),c,null,[[5,18],[27,39]])})));return function(e,t){return c.apply(this,arguments)}}()},N=function(e){var t=e.pobj,r=Object(a.useState)("small"),c=Object(z.a)(r,2),n=c[0],s=c[1],i=Object(a.useState)(1),o=Object(z.a)(i,2),l=o[0],j=o[1],u=Object(a.useState)(!1),b=Object(z.a)(u,2),O=b[0],h=b[1],p=Object(g.b)();return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)(P.a,{style:{width:"18rem"},children:[Object(d.jsx)(P.a.Img,{variant:"top",src:t.image,style:{width:"100%",height:"150px"},onClick:function(){return h(!0)}}),Object(d.jsxs)(P.a.Body,{children:[Object(d.jsx)(P.a.Title,{children:t.name}),Object(d.jsx)(P.a.Text,{children:t.description}),Object(d.jsx)(P.a.Text,{children:Object(d.jsxs)(R.a,{children:[Object(d.jsxs)(I.a,{md:6,children:["variants",Object(d.jsx)("br",{}),Object(d.jsx)("select",{onChange:function(e){return s(e.target.value)},children:t.variants.map((function(e){return Object(d.jsx)("option",{value:e,children:e})}))})]}),Object(d.jsxs)(I.a,{md:6,children:["quantity",Object(d.jsx)("br",{}),Object(d.jsx)("select",{onChange:function(e){return j(e.target.value)},children:Object(k.a)(Array(10).keys()).map((function(e){return Object(d.jsx)("option",{value:e+1,children:e+1})}))})]})]})}),Object(d.jsxs)(R.a,{children:[Object(d.jsxs)(I.a,{md:6,children:["Price : Rs ",t.prices[0][n]*l,"/-"]}),Object(d.jsx)(I.a,{md:6,children:Object(d.jsx)(L.a,{variant:"primary",onClick:function(){console.log("clicked");p(G(t,l,n,!0))},children:"Add to cart"})})]})]})]}),Object(d.jsxs)(U.a,{show:O,onHide:function(){return h(!1)},children:[Object(d.jsx)(U.a.Header,{closeButton:!0,children:Object(d.jsx)(U.a.Title,{children:t.name})}),Object(d.jsxs)(U.a.Body,{children:[Object(d.jsx)("img",{src:t.image,alt:"",style:{height:"250px",width:"100%"}}),"DESCRIPTION:",t.description]}),Object(d.jsx)(U.a.Footer,{})]})]})},F=function(){var e=Object(g.b)();Object(a.useEffect)((function(){e(T())}),[e]),Object(a.useEffect)((function(){e(A())}),[e]);var t=Object(g.c)((function(e){return e.getAllPizzasReducer})),r=t.pizzas,c=t.loading,n=t.error;return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)(i.a,{children:c?Object(d.jsx)("h1",{children:"loading...."}):n?Object(d.jsx)("h1",{children:"Error while loading data"}):Object(d.jsxs)(i.a,{children:[Object(d.jsx)(R.a,{children:Object(d.jsx)("a",{href:"/custom",children:Object(d.jsx)("img",{src:"/images/home_custom_banner.png",style:{width:"100%"}})})}),Object(d.jsx)(R.a,{children:r.map((function(e){return Object(d.jsx)(I.a,{md:4,style:{marginBottom:"2%",marginTop:"2%"},children:Object(d.jsx)(N,{pobj:e})})}))})]})})})},Z=r(73),B=r(94),Q=r.n(B),M=function(e){var t=e.subTotal,r=Object(g.c)((function(e){return e.loginReducer})).currentUser;console.log(r);var a=Object(g.b)(),c=Object(g.c)((function(e){return e.cartReducer})).cartItems,n=function(e,t,r){a(function(e,t,r){return function(){var a=Object(y.a)(v.a.mark((function a(c,n){var s,i,o,l,j,d,u,b,O,h,p,x,m,g;return v.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c({type:"ORDER_CREATE_REQUEST"}),s=n().loginReducer,i=s.currentUser,o={name:i.name,email:i.email,userId:i._id,orderItems:t,orderAmount:r,isDelivered:!1,transactionId:e},a.prev=4,a.next=7,E.a.post("/api/orders/placeOrder",o);case 7:l=a.sent,c({type:"ORDER_CREATE_SUCCESS",payload:l.data}),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(4),c({type:"ORDER_CREATE_FAIL",payload:a.t0});case 14:return a.prev=14,a.next=17,E.a.get("/api/inventory/getAllStock");case 17:for(j=a.sent,c({type:"GET_STOCK_SUCCESS",payload:j.data}),d=n().getAllStockReducer.stock,u="** STOCK ALERT ** The following stock is low : \n",b=0;b<d.length;b++){for(O=d[b].name,u+=O+" : ",h=d[b].varqty[0],p=0;p<Object.keys(h).length;p++)x=Object.keys(h)[p],(m=h[Object.keys(h)[p]])<=10&&null!=m&&(u+=x+"("+m+") ");u+="    \n"}return g={to:"ekamjits105@gmail.com",subject:"!! STOCK ALERT REPORT !!",text:u},a.next=25,E.a.post("/api/mail/sendmail",g);case 25:Object(D.a)("response"),c({type:"SEND_MAIL_SUCCESS"}),a.next=32;break;case 29:a.prev=29,a.t1=a.catch(14),c({type:"ORDER_CREATE_FAIL",payload:a.t1});case 32:localStorage.setItem("cartItems",[]),window.location.href="/cart";case 34:case"end":return a.stop()}}),a,null,[[4,11],[14,29]])})));return function(e,t){return a.apply(this,arguments)}}()}(e,t,r))},s=Q()();return Object(d.jsx)("div",{className:"App",children:Object(d.jsx)(L.a,{onClick:function(){null==r&&(window.location.href="/login");var e={key:"rzp_test_bYZoWApMjNP1Ln",amount:100*t,currency:"INR",name:"Pizza Shop",description:"Test Transaction",image:"../../images/logo.png",handler:function(e){n(e.razorpay_payment_id,c,t)},prefill:{name:r.name,email:r.email,contact:""},notes:{},theme:{color:"#3399cc"}};new s(e).open()},children:"Proceed to checkout"})})},Y=function(){var e=Object(g.b)(),t=Object(g.c)((function(e){return e.cartReducer})).cartItems,r=t.reduce((function(e,t){return e+t.price}),0);return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)(i.a,{children:Object(d.jsxs)(R.a,{style:{marginTop:"2%"},children:[Object(d.jsxs)(I.a,{md:7,children:[Object(d.jsx)("h1",{children:" My Cart"}),Object(d.jsx)("br",{}),0!=t.length?t.map((function(t){return Object(d.jsxs)(R.a,{style:{backgroundColor:"lightgrey",margin:"2%",padding:"2%"},children:[Object(d.jsxs)(I.a,{md:7,children:[Object(d.jsxs)("h4",{children:[t.name," (",t.variant,")"]}),"Custom Fresh pizza"===t.name?Object(d.jsxs)("h6",{children:["Description: ",Object(d.jsx)("br",{}),t.description]}):Object(d.jsx)("h1",{}),Object(d.jsxs)("h5",{children:["Quantity : \xa0",Object(d.jsx)(Z.b,{style:{cursor:"pointer"},onClick:function(){e(G(t,t.quantity+1,t.variant,!0))}}),"\xa0",t.quantity,"\xa0",Object(d.jsx)(Z.a,{style:{cursor:"pointer"},onClick:function(){e(G(t,t.quantity-1,t.variant,!1))}})]}),Object(d.jsxs)("h5",{children:["Price : ",t.prices[0][t.variant],"/- X ",t.quantity]}),Object(d.jsxs)("h4",{children:["Rs ",t.price,"/-"]})]}),Object(d.jsx)(I.a,{md:4,children:Object(d.jsx)("img",{src:t.image,alt:"",style:{width:"150px",height:"100px"}})}),Object(d.jsx)(I.a,{md:1,children:Object(d.jsx)(Z.c,{style:{cursor:"pointer"},onClick:function(){var r,a;e((r=t,a=t.quantity,t.variant,function(){var e=Object(y.a)(v.a.mark((function e(t,c){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t({type:"DELETE_FROM_CART",payload:r}),!r.ingredients){e.next=17;break}if(n={base:r.ingredients.base,sauce:r.ingredients.sauce,cheese:r.ingredients.cheese,veggies:r.ingredients.veggies,qty:a},e.prev=3,!n){e.next=10;break}return e.next=7,E.a.post("/api/inventory/updatestock",n);case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0={};case 11:e.t0,e.next=17;break;case 14:e.prev=14,e.t1=e.catch(3),console.log("error while updating stock.."+e.t1);case 17:localStorage.setItem("cartItems",JSON.stringify(c().cartReducer.cartItems));case 18:case"end":return e.stop()}}),e,null,[[3,14]])})));return function(t,r){return e.apply(this,arguments)}}()))}})})]})})):Object(d.jsx)("h2",{style:{"margin-top":"10%"},children:Object(d.jsxs)("center",{children:["OOPS! Your Cart is empty ",Object(d.jsx)("br",{}),Object(d.jsxs)("h4",{children:[" Go to ",Object(d.jsx)("a",{href:"/myorders",children:" My Orders "})," to check your orders"]})]})})]}),Object(d.jsxs)(I.a,{md:5,children:[Object(d.jsx)("h1",{children:" Payment Info"}),Object(d.jsx)("br",{}),Object(d.jsx)("hr",{}),Object(d.jsxs)("h3",{children:["Subtotal = Rs ",r,"/-"]}),Object(d.jsx)("br",{}),Object(d.jsx)("span",{style:{color:"grey"},children:"Make the payment via multiple options available including net banking, credit/debit cards/wallets and UPI"}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)(M,{subTotal:r,children:" Proceed to checkout "}),Object(d.jsx)("br",{}),Object(d.jsxs)("span",{style:{color:"green"},children:["Get your orders delivered fresh in 30 minutes! ",Object(d.jsx)("br",{}),"**Conditions apply"]})]})]})})})},q=r(144),K=function(){var e=Object(a.useState)(""),t=Object(z.a)(e,2),r=t[0],c=t[1],n=Object(a.useState)(""),s=Object(z.a)(n,2),o=s[0],l=s[1],j=Object(a.useState)(""),u=Object(z.a)(j,2),b=u[0],O=u[1],h=Object(a.useState)(""),p=Object(z.a)(h,2),x=p[0],m=p[1],f=Object(a.useState)(!0),S=Object(z.a)(f,2),C=S[0],R=S[1],I=Object(a.useState)(!1),T=Object(z.a)(I,2),w=T[0],A=T[1],k=Object(a.useState)(""),P=Object(z.a)(k,2),U=P[0],G=P[1],N=Object(a.useState)(!1),F=Object(z.a)(N,2),Z=F[0],B=F[1],Q=Object(a.useState)(!1),M=Object(z.a)(Q,2),Y=M[0],K=M[1],H=Object(g.b)(),J=(Object(g.c)((function(e){return e.registerReducer})).success,function(){var e=Object(y.a)(v.a.mark((function e(){var t,r,a,c,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b===x){e.next=4;break}alert("paswords do not match!"),e.next=21;break;case 4:return t={email:o},e.next=7,E.a.post("/api/users/finduser",t);case 7:if(r=e.sent,R(r.data.exists),A(!0),r.data.exists){e.next=21;break}return a=(a=Math.floor(1e6*Math.random())).toString(),c={to:o,subject:"PizzaHut: OTP for account verification",text:"Your OTP for account verification is : "+a},e.next=16,E.a.post("/api/mail/sendmail",c);case 16:return r=e.sent,n={email:o,OTP:a},e.next=20,E.a.post("/api/users/saveOTP",n);case 20:r=e.sent;case 21:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()),W=function(){var e=Object(y.a)(v.a.mark((function e(){var t,a,c,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={email:o,OTP:U},e.next=3,E.a.post("/api/users/validateOTP",t);case 3:if(a=e.sent,!a.data.matched){e.next=15;break}return c={name:r,email:o,password:b},alert("Congratulations! New Account created Successfully. Check your mail for credentials."),H(_(c)),n={to:o,subject:"PizzaHut: Congratulations on creating a new account!",text:"Your Account password is : "+b+". Keep it safe and enjoy shopping!"},e.next=12,E.a.post("/api/mail/sendmail",n);case 12:a=e.sent,K(!0),Object(D.a)("user");case 15:B(!0);case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)(i.a,{children:C?Object(d.jsxs)(q.a,{children:[Object(d.jsxs)(q.a.Group,{className:"mb-3",controlId:"formBasicName",children:[Object(d.jsx)(q.a.Label,{children:"Name"}),Object(d.jsx)(q.a.Control,{type:"text",placeholder:"Enter Name",value:r,onChange:function(e){return c(e.target.value)}})]}),Object(d.jsxs)(q.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(d.jsx)(q.a.Label,{children:"Email address"}),Object(d.jsx)(q.a.Control,{type:"email",placeholder:"Enter email",value:o,onChange:function(e){return l(e.target.value)}}),""!==o&&w&&C?Object(d.jsx)(q.a.Text,{className:"text-muted",children:"Email already exists"}):Object(d.jsx)(q.a.Text,{className:"text-muted",children:"We'll never share your email with anyone else."})]}),Object(d.jsxs)(q.a.Group,{className:"mb-3",controlId:"formBasicPassword",children:[Object(d.jsx)(q.a.Label,{children:"Password"}),Object(d.jsx)(q.a.Control,{type:"password",placeholder:"Password",value:b,onChange:function(e){return O(e.target.value)}})]}),Object(d.jsxs)(q.a.Group,{className:"mb-3",controlId:"formBasicConfirmPassword",children:[Object(d.jsx)(q.a.Label,{children:"Confirm Password"}),Object(d.jsx)(q.a.Control,{type:"password",placeholder:"Confirm Password",value:x,onChange:function(e){return m(e.target.value)}})]}),Object(d.jsx)(L.a,{variant:"primary",onClick:J,children:"Send OTP"})]}):Object(d.jsx)(i.a,{style:{textAlign:"center"},children:Object(d.jsx)("center",{children:Y?Object(d.jsx)(d.Fragment,{}):Object(d.jsxs)(q.a,{style:{width:"50%",textAlign:"center"},children:[Object(d.jsxs)("center",{children:[Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)("h5",{style:{color:"lightgreen"},children:"OTP sent to email successfully"})]}),Object(d.jsxs)(q.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(d.jsx)("br",{}),Object(d.jsx)(q.a.Control,{type:"text",placeholder:"Enter OTP",value:U,onChange:function(e){return G(e.target.value)}})]}),""!==U&&Z&&!Y?Object(d.jsx)(q.a.Text,{className:"text-muted",children:"OTP does not match"}):Object(d.jsx)("h1",{}),Object(d.jsx)(L.a,{variant:"primary",onClick:W,children:"Register"})]})})})})})},H=function(){var e=Object(g.c)((function(e){return e.loginReducer})),t=e.success,r=e.error,c=Object(g.b)(""),n=Object(a.useState)(""),s=Object(z.a)(n,2),o=s[0],l=s[1],j=Object(a.useState)(""),u=Object(z.a)(j,2),b=u[0],O=u[1];return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsxs)(i.a,{style:{width:"30%"},children:[Object(d.jsx)("h3",{children:" Login with your credentials"}),Object(d.jsx)("br",{}),Object(d.jsxs)(q.a,{children:[Object(d.jsxs)(q.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(d.jsx)(q.a.Label,{children:"Email address"}),Object(d.jsx)(q.a.Control,{type:"email",placeholder:"Enter email",value:o,onChange:function(e){return l(e.target.value)}}),Object(d.jsx)(q.a.Text,{className:"text-muted",children:"We'll never share your email with anyone else."})]}),Object(d.jsxs)(q.a.Group,{className:"mb-3",controlId:"formBasicPassword",children:[Object(d.jsx)(q.a.Label,{children:"Password"}),Object(d.jsx)(q.a.Control,{type:"password",placeholder:"Password",value:b,onChange:function(e){return O(e.target.value)}})]}),Object(d.jsx)("a",{href:"/reset-password",children:"Forgot password"}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)(L.a,{variant:"primary",onClick:function(){c(function(e){return function(){var t=Object(y.a)(v.a.mark((function t(r,a){var c;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r({type:"LOGIN_USER_REQUEST"}),t.prev=1,t.next=4,E.a.post("/api/users/login",e);case 4:c=t.sent,r({type:"LOGIN_USER_SUCCESS",payload:c.data}),localStorage.setItem("currentUser",JSON.stringify(a().loginReducer.currentUser)),window.location.href="/",t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),r({type:"LOGIN_USER_FAIL",payload:t.t0});case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,r){return t.apply(this,arguments)}}()}({email:o,password:b})),t?alert("Successfully logged in"):r?alert("error in logging in",r):console.log()},children:"Submit"})]})]})]})},J=function(){var e=Object(g.b)(),t=Object(g.c)((function(e){return e.myOrdersReducer})).orders;return Object(a.useEffect)((function(){e(function(){var e=Object(y.a)(v.a.mark((function e(t,r){var a,c,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"GET_ORDER_REQUEST"}),e.prev=1,a=r().loginReducer.currentUser,c=a._id,e.next=6,E.a.post("/api/orders/myOrders",{userId:c});case 6:n=e.sent,t({type:"GET_ORDER_SUCCESS",payload:n.data}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),t({type:"GET_ORDER_FAIL",payload:e.t0});case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,r){return e.apply(this,arguments)}}())}),[e]),Object(d.jsxs)(d.Fragment,{children:[" ",Object(d.jsx)("h1",{className:"text-center ",children:"Your Orders "}),t&&t.map((function(e){return Object(d.jsx)("div",{className:"container border p-4 bg-light",children:Object(d.jsx)(i.a,{children:Object(d.jsxs)(R.a,{children:[Object(d.jsxs)(I.a,{md:4,children:[Object(d.jsx)("h4",{children:"Items :"}),e.orderItems.map((function(e){return Object(d.jsxs)("h5",{children:[e.name," (",e.variant,") x ",e.quantity," ="," ","Rs ",e.price,"/-","Custom Fresh pizza"===e.name?Object(d.jsxs)("h6",{children:["Description: ",Object(d.jsx)("br",{}),e.description]}):Object(d.jsx)("h1",{})]},e.name)}))]}),Object(d.jsx)(I.a,{md:3}),Object(d.jsxs)(I.a,{md:5,children:[Object(d.jsx)("h4",{children:"Order Info :"}),Object(d.jsxs)("h6",{children:["Order id : ",e._id]}),Object(d.jsxs)("h6",{children:["Order Amount : Rs ",e.orderAmount,"/-"]}),Object(d.jsxs)("h6",{children:["Transaction id : ",e.transactionId]}),Object(d.jsxs)("h5",{children:["Status : ",e.isDelivered?Object(d.jsx)(d.Fragment,{children:"Delivered"}):Object(d.jsx)(d.Fragment,{children:"Not delivered"})]})]})]})})})}))]})},W=r(142),V=r(139),X=function(){return Object(d.jsx)(V.a,{animation:"border",variant:"info"})},$=r(140),ee=function(e){var t=e.error;return Object(d.jsx)($.a,{variant:"danger",children:t})},te=function(e){var t=e.success;return Object(d.jsx)($.a,{variant:"success",children:t})},re=function(){var e=Object(a.useState)(""),t=Object(z.a)(e,2),r=t[0],c=t[1],n=Object(a.useState)(),s=Object(z.a)(n,2),i=s[0],o=s[1],l=Object(a.useState)(),j=Object(z.a)(l,2),u=j[0],b=j[1],O=Object(a.useState)(),h=Object(z.a)(O,2),p=h[0],x=h[1],m=Object(a.useState)(""),f=Object(z.a)(m,2),S=f[0],_=f[1],C=Object(a.useState)(""),T=Object(z.a)(C,2),w=T[0],A=T[1],k=Object(a.useState)(""),P=Object(z.a)(k,2),U=P[0],D=P[1],G=Object(g.c)((function(e){return e.addPizzaReducer})),N=G.loading,F=G.error,Z=G.success,B=Object(g.b)();return Object(d.jsxs)("div",{children:[N&&Object(d.jsx)(X,{}),F&&Object(d.jsx)(ee,{error:"add new pizza error"}),Z&&Object(d.jsx)(te,{success:"Pizza Added Successfully"}),Object(d.jsxs)(q.a,{onSubmit:function(e){e.preventDefault(),B(function(e){return function(){var t=Object(y.a)(v.a.mark((function t(r){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r({type:"ADD_PIZZAS_REQUEST"}),t.prev=1,t.next=4,E.a.post("/api/pizzas/addpizza",{pizza:e});case 4:r({type:"ADD_PIZZAS_SUCCESS"}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),r({type:"ADD_PIZZAS_FAIL",payload:t.t0});case 10:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}()}({name:r,image:S,description:w,category:U,prices:{small:i,medium:p,larg:u}}))},className:"bg-light p-4",children:[Object(d.jsxs)(R.a,{className:"mb-3",children:[Object(d.jsxs)(q.a.Group,{as:I.a,controlId:"formGridEmail",children:[Object(d.jsx)(q.a.Label,{children:"Name"}),Object(d.jsx)(q.a.Control,{type:"text",value:r,onChange:function(e){return c(e.target.value)},placeholder:"Enter email"})]}),Object(d.jsxs)(R.a,{className:"mb-3 mt-3",children:[Object(d.jsxs)(q.a.Group,{as:I.a,controlId:"formGridCity",children:[Object(d.jsx)(q.a.Label,{children:"Small Price"}),Object(d.jsx)(q.a.Control,{type:"text",value:i,onChange:function(e){return o(e.target.value)},placeholder:"Enter Small Price"})]}),Object(d.jsxs)(q.a.Group,{as:I.a,controlId:"formGridState",children:[Object(d.jsx)(q.a.Label,{children:"Medium Price"}),Object(d.jsx)(q.a.Control,{type:"text",value:p,onChange:function(e){return x(e.target.value)},placeholder:"Enter medium price"})]}),Object(d.jsxs)(q.a.Group,{as:I.a,controlId:"formGridZip",children:[Object(d.jsx)(q.a.Label,{children:"Larg Price"}),Object(d.jsx)(q.a.Control,{type:"text",value:u,onChange:function(e){return b(e.target.value)},placeholder:"Enter larg price"})]})]}),Object(d.jsxs)(q.a.Group,{as:I.a,controlId:"formGridPassword",children:[Object(d.jsx)(q.a.Label,{children:"Image"}),Object(d.jsx)(q.a.Control,{ttype:"text",value:S,onChange:function(e){return _(e.target.value)},placeholder:"Add Image URL"})]})]}),Object(d.jsxs)(q.a.Group,{className:"mb-3",controlId:"formGridAddress1",children:[Object(d.jsx)(q.a.Label,{children:"Description"}),Object(d.jsx)(q.a.Control,{type:"text",value:w,onChange:function(e){return A(e.target.value)},placeholder:"Enter Description"})]}),Object(d.jsxs)(q.a.Group,{className:"mb-3",controlId:"formGridAddress2",children:[Object(d.jsx)(q.a.Label,{children:"Category"}),Object(d.jsx)(q.a.Control,{type:"text",value:U,onChange:function(e){return D(e.target.value)},placeholder:"Enter Category"})]}),Object(d.jsx)(L.a,{variant:"primary",type:"submit",children:"Add New"})]})]})},ae=r(141),ce=function(){var e=Object(g.c)((function(e){return e.allUserOrdersReducer})),t=e.loading,r=e.orders,c=e.error,n=Object(g.b)();return Object(a.useEffect)((function(){n(function(){var e=Object(y.a)(v.a.mark((function e(t,r){var a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"ALL_ORDER_REQUEST"}),e.prev=1,e.next=4,E.a.get("/api/orders/alluserorder");case 4:a=e.sent,t({type:"ALL_ORDER_SUCCESS",payload:a.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t({type:"ALL_ORDER_FAIL",payload:e.t0});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,r){return e.apply(this,arguments)}}())}),[n]),Object(d.jsxs)("div",{children:[Object(d.jsx)("h1",{children:"Order Lists"}),t&&Object(d.jsx)(X,{}),c&&Object(d.jsx)(ee,{error:"Admin Order req fail"}),Object(d.jsxs)(ae.a,{striped:!0,bordered:!0,hover:!0,children:[Object(d.jsx)("thead",{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{children:"Order Id"}),Object(d.jsx)("th",{children:"Email"}),Object(d.jsx)("th",{children:"Transaction ID"}),Object(d.jsx)("th",{children:"Amount"}),Object(d.jsx)("th",{children:"Date"}),Object(d.jsx)("th",{children:"Status"})]})}),Object(d.jsx)("tbody",{children:r&&r.map((function(e){return Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:e._id}),Object(d.jsx)("td",{children:e.email}),Object(d.jsx)("td",{children:e.transactionId}),Object(d.jsxs)("td",{children:["Rs ",e.orderAmount,"/-"]}),Object(d.jsx)("td",{children:e.createdAt}),Object(d.jsxs)("td",{children:[" ",e.isDelivered?Object(d.jsx)("h6",{className:"text-success",children:"Delivered"}):Object(d.jsx)(d.Fragment,{children:Object(d.jsx)(L.a,{className:"btn-danger",onClick:function(){var t;n((t=e._id,function(){var e=Object(y.a)(v.a.mark((function e(r,a){var c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r({type:"GET_ALL_ORDER_REQUEST"}),e.prev=1,e.next=4,E.a.post("/api/orders/deliverorder",{orderid:t});case 4:return alert("Delivered Success"),e.next=7,E.a.get("/api/orders/alluserorder");case 7:c=e.sent,r({type:"GET_ALL_ORDER_SUCCESS",payload:c.data}),window.location.href="/admin/orderlist",e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),r({type:"GET_ALL_ORDER_FAIL",payload:e.t0});case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t,r){return e.apply(this,arguments)}}()))},children:"Deliver"})})," "]})]},e._id)}))})]})]})},ne=r(57),se=function(){var e=Object(g.b)(),t=Object(g.c)((function(e){return e.getAllPizzasReducer})),r=t.loading,c=t.pizzas,n=t.error;return console.log(c),Object(a.useEffect)((function(){e(T())}),[e]),Object(d.jsx)(d.Fragment,{children:r?Object(d.jsx)(X,{}):n?Object(d.jsxs)(ee,{children:["Error while fetching pizzas ",n]}):Object(d.jsx)("div",{children:Object(d.jsxs)(ae.a,{striped:!0,bordered:!0,hover:!0,children:[Object(d.jsx)("thead",{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{children:"Image"}),Object(d.jsx)("th",{children:"Pizza Name"}),Object(d.jsx)("th",{children:"Prices"}),Object(d.jsx)("th",{children:"Category"}),Object(d.jsx)("th",{children:"Action"})]})}),Object(d.jsx)("tbody",{children:c&&c.map((function(t){return Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:Object(d.jsx)("center",{children:Object(d.jsx)("img",{src:t.image,alt:"logo",width:"60%",height:"120px"})})}),Object(d.jsx)("td",{children:t.name}),Object(d.jsxs)("td",{children:["Small : ",t.prices[0].small,Object(d.jsx)("br",{}),"Medium : ",t.prices[0].medium,Object(d.jsx)("br",{}),"Large : ",t.prices[0].large]}),Object(d.jsx)("td",{children:t.category}),Object(d.jsxs)("td",{children:[Object(d.jsx)(b.Link,{to:"/admin/editpizza/".concat(t._id),children:Object(d.jsx)(ne.b,{style:{cursor:"pointer"}})}),"\xa0",Object(d.jsx)(ne.a,{style:{color:"red",cursor:"pointer"},onClick:function(){var r;e((r=t._id,function(){var e=Object(y.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.a.post("/api/pizzas/deletepizza",{pizzaId:r});case 3:window.location.href="/admin/pizzalist",e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()))}})]})]})}))})]})})})},ie=function(){var e=Object(g.c)((function(e){return e.getAllUsersReducer})),t=e.loading,r=e.error,c=e.users,n=Object(g.b)();return Object(a.useEffect)((function(){n(function(){var e=Object(y.a)(v.a.mark((function e(t){var r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"GET_USERS_REQUEST"}),e.prev=1,e.next=4,E.a.get("/api/users/getallusers");case 4:r=e.sent,t({type:"GET_USERS_SUCCESS",payload:r.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t({type:"GET_USERS_FAIL",payload:e.t0});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}())}),[n]),Object(d.jsxs)("div",{children:[Object(d.jsx)("h1",{children:"User List"}),t&&Object(d.jsx)(X,{}),r&&Object(d.jsx)(ee,{error:"Error While Fetching Users"}),Object(d.jsxs)(ae.a,{striped:!0,bordered:!0,hover:!0,children:[Object(d.jsx)("thead",{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{children:"User ID"}),Object(d.jsx)("th",{children:"Name"}),Object(d.jsx)("th",{children:"Email"}),Object(d.jsx)("th",{children:"Delete"})]})}),Object(d.jsx)("tbody",{children:c&&c.map((function(e){return Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:e._id}),Object(d.jsx)("td",{children:e.name}),Object(d.jsx)("td",{children:e.email}),Object(d.jsx)("td",{children:Object(d.jsx)(ne.a,{style:{color:"red",cursor:"pointer"},onClick:function(){var t;n((t=e._id,function(){var e=Object(y.a)(v.a.mark((function e(r){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.a.post("/api/users/deleteuser",{userid:t});case 3:window.location.reload(),e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()))}})})]},e._id)}))})]})]})},oe=function(e){var t=e.match,r=Object(a.useState)(""),c=Object(z.a)(r,2),n=c[0],s=c[1],i=Object(a.useState)(),o=Object(z.a)(i,2),l=o[0],j=o[1],u=Object(a.useState)(),b=Object(z.a)(u,2),O=b[0],h=b[1],p=Object(a.useState)(),x=Object(z.a)(p,2),m=x[0],f=x[1],S=Object(a.useState)(""),_=Object(z.a)(S,2),C=_[0],T=_[1],A=Object(a.useState)(""),k=Object(z.a)(A,2),P=k[0],U=k[1],D=Object(a.useState)(""),G=Object(z.a)(D,2),N=G[0],F=G[1],Z=Object(g.b)(),B=Object(g.c)((function(e){return e.getPizzaByIdReducer})),Q=B.error,M=B.pizza,Y=Object(g.c)((function(e){return e.updatePizzaByIdReducer})).updateloading;Object(a.useEffect)((function(){M&&M._id===t.params.pizzaId?(s(M.name),U(M.description),F(M.category),T(M.image),j(M.prices[0].small),f(M.prices[0].medium),h(M.prices[0].large)):Z(w(t.params.pizzaId))}),[M,Z,t.params.pizzaId]);return Object(d.jsxs)("div",{children:[Y&&Object(d.jsx)(X,{}),Q&&Object(d.jsx)(ee,{error:"add new pizza error"}),Object(d.jsxs)(q.a,{onSubmit:function(e){e.preventDefault();var r={_id:t.params.pizzaId,name:n,image:C,description:P,category:N,prices:{small:l,medium:m,large:O}};Z(function(e){return function(){var t=Object(y.a)(v.a.mark((function t(r){var a;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r({type:"UPDATE_PIZZABYID_REQUEST"}),t.prev=1,t.next=4,E.a.post("/api/pizzas/updatepizza",{updatedPizza:e});case 4:a=t.sent,r({type:"UPDATE_PIZZABYID_SUCCESS",payload:a.data}),window.location.href="/admin/pizzalist",t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),r({type:"UPDATE_PIZZABYID_FAIL",payload:t.t0});case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()}(r))},className:"bg-light p-4",children:[Object(d.jsxs)(R.a,{className:"mb-3",children:[Object(d.jsxs)(q.a.Group,{as:I.a,controlId:"formGridEmail",children:[Object(d.jsx)(q.a.Label,{children:"Name"}),Object(d.jsx)(q.a.Control,{type:"text",value:n,onChange:function(e){return s(e.target.value)},placeholder:"Enter email"})]}),Object(d.jsxs)(R.a,{className:"mb-3 mt-3",children:[Object(d.jsxs)(q.a.Group,{as:I.a,controlId:"formGridCity",children:[Object(d.jsx)(q.a.Label,{children:"Small Price"}),Object(d.jsx)(q.a.Control,{type:"text",value:l,onChange:function(e){return j(parseInt(e.target.value))},placeholder:"Enter Small Price"})]}),Object(d.jsxs)(q.a.Group,{as:I.a,controlId:"formGridState",children:[Object(d.jsx)(q.a.Label,{children:"Medium Price"}),Object(d.jsx)(q.a.Control,{type:"text",value:m,onChange:function(e){return f(parseInt(e.target.value))},placeholder:"Enter medium price"})]}),Object(d.jsxs)(q.a.Group,{as:I.a,controlId:"formGridZip",children:[Object(d.jsx)(q.a.Label,{children:"Large Price"}),Object(d.jsx)(q.a.Control,{type:"text",value:O,onChange:function(e){return h(parseInt(e.target.value))},placeholder:"Enter large price"})]})]}),Object(d.jsxs)(q.a.Group,{as:I.a,controlId:"formGridPassword",children:[Object(d.jsx)(q.a.Label,{children:"Image"}),Object(d.jsx)(q.a.Control,{ttype:"text",value:C,onChange:function(e){return T(e.target.value)},placeholder:"Add Image URL"})]})]}),Object(d.jsxs)(q.a.Group,{className:"mb-3",controlId:"formGridAddress1",children:[Object(d.jsx)(q.a.Label,{children:"Description"}),Object(d.jsx)(q.a.Control,{type:"text",value:P,onChange:function(e){return U(e.target.value)},placeholder:"Enter Description"})]}),Object(d.jsxs)(q.a.Group,{className:"mb-3",controlId:"formGridAddress2",children:[Object(d.jsx)(q.a.Label,{children:"Category"}),Object(d.jsx)(q.a.Control,{type:"text",value:N,onChange:function(e){return F(e.target.value)},placeholder:"Enter Category"})]}),Object(d.jsx)(L.a,{variant:"primary",type:"submit",children:"Update Pizza"})]})]})},le=function(){var e=Object(g.c)((function(e){return e.getAllStockReducer})).stock,t=Object(g.b)();return Object(a.useEffect)((function(){t(A())}),[t]),Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("h1",{children:"Inventory"}),Object(d.jsx)("br",{}),e&&e.map((function(e){return Object(d.jsxs)("div",{children:[Object(d.jsx)("h1",{children:e.name}),Object(d.jsxs)(ae.a,{striped:!0,bordered:!0,hover:!0,children:[Object(d.jsx)("thead",{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{children:"Variant"}),Object(d.jsx)("th",{children:"Price"}),Object(d.jsx)("th",{children:"Quantity"}),Object(d.jsx)("th",{children:"Warning"})]})}),Object(d.jsx)("tbody",{children:Object(k.a)(Array(e.variants.length)).map((function(t,r){return Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:e.variants[r]}),Object(d.jsx)("td",{children:e.prices[0][e.variants[r]]}),Object(d.jsx)("td",{children:e.varqty[0][e.variants[r]]}),Object(d.jsx)("td",{children:e.varqty[0][e.variants[r]]<=10?Object(d.jsx)("h4",{style:{color:"red"},children:"LOW"}):Object(d.jsx)("h5",{style:{color:"green"},children:"Sufficient"})})]})}))})]})]})}))]})},je=function(e){var t=e.history,r=Object(g.c)((function(e){return e.loginReducer})).currentUser;return Object(a.useEffect)((function(){null!==localStorage.getItem("currentUser")&&r.isAdmin||(window.location.href="/")}),[r]),Object(d.jsx)(d.Fragment,{children:Object(d.jsx)(i.a,{children:Object(d.jsxs)(R.a,{children:[Object(d.jsx)("h1",{className:"text-center bg-dark text-light p-2",children:"Admin Panel"}),Object(d.jsx)(I.a,{md:2,children:Object(d.jsxs)(W.a,{vertical:!0,style:{minHeight:"400px"},children:[Object(d.jsx)(L.a,{onClick:function(){return t.push("/admin/orderlist")},children:"All Orders"}),Object(d.jsx)(L.a,{onClick:function(){return t.push("/admin/userlist")},children:"All Users"}),Object(d.jsx)(L.a,{onClick:function(){return t.push("/admin/inventory")},children:"Inventory"}),Object(d.jsx)(L.a,{onClick:function(){return t.push("/admin/pizzalist")},children:"All Pizzas"}),Object(d.jsx)(L.a,{onClick:function(){return t.push("/admin/addnewpizza")},children:"Add New Pizza"})]})}),Object(d.jsx)(I.a,{md:10,children:Object(d.jsxs)(O.g,{children:[Object(d.jsx)(O.d,{path:"/admin",component:ie,exact:!0}),Object(d.jsx)(O.d,{path:"/admin/userlist",component:ie,exact:!0}),Object(d.jsx)(O.d,{path:"/admin/editpizza/:pizzaId",component:oe,exact:!0}),Object(d.jsx)(O.d,{path:"/admin/pizzalist",component:se,exact:!0}),Object(d.jsx)(O.d,{path:"/admin/inventory",component:le,exact:!0}),Object(d.jsx)(O.d,{path:"/admin/addnewpizza",component:re,exact:!0}),Object(d.jsx)(O.d,{path:"/admin/orderlist",component:ce,exact:!0})]})})]})})})},de=function(){var e,t=Object(g.b)();Object(a.useEffect)((function(){console.log("dispatching.."),t(A())}),[t]);var r=Object(g.c)((function(e){return e.getAllStockReducer})),c=r.stock,n=r.loading,s=r.error;e=n,console.log("Recieved Stock..."),console.log(c),console.log(c[0]);var o=Object(a.useState)("classic"),l=Object(z.a)(o,2),j=l[0],u=l[1],b=Object(a.useState)("classic"),O=Object(z.a)(b,2),h=O[0],p=O[1],x=Object(a.useState)("mozzerella"),m=Object(z.a)(x,2),f=m[0],v=m[1],y=Object(a.useState)("corn"),S=Object(z.a)(y,2),E=S[0],_=S[1];return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("br",{}),Object(d.jsxs)(i.a,{children:[e?Object(d.jsx)("h1",{children:"loading...."}):s?Object(d.jsx)("h1",{children:"Error while loading data"}):Object(d.jsxs)(i.a,{children:[Object(d.jsx)("h1",{children:"Create your Custom Pizza"}),Object(d.jsxs)(R.a,{children:[Object(d.jsx)(I.a,{md:4,style:{padding:"2%"},children:Object(d.jsx)("img",{src:"/images/custom_side_img.jpg",style:{width:"100%"}})}),Object(d.jsxs)(I.a,{md:8,style:{padding:"4%",border:"2px solid red"},children:["Select base \xa0\xa0",Object(d.jsx)("select",{onChange:function(e){return u(e.target.value)},children:c[0]&&c[0].variants.map((function(e){return Object(d.jsx)("option",{value:e,children:e})}))}),"\xa0\xa0\xa0\xa0 Select sauce \xa0\xa0",Object(d.jsx)("select",{onChange:function(e){return p(e.target.value)},children:c[1]&&c[1].variants.map((function(e){return Object(d.jsx)("option",{value:e,children:e})}))}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),"Select cheese\xa0\xa0",Object(d.jsx)("select",{onChange:function(e){return v(e.target.value)},children:c[2]&&c[2].variants.map((function(e){return Object(d.jsx)("option",{value:e,children:e})}))}),"\xa0\xa0\xa0\xa0 Select veggies \xa0\xa0",Object(d.jsx)("select",{onChange:function(e){return _(e.target.value)},children:c[3]&&c[3].variants.map((function(e){return Object(d.jsx)("option",{value:e,children:e})}))}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)("hr",{}),Object(d.jsx)("br",{}),Object(d.jsxs)(R.a,{children:[Object(d.jsx)(I.a,{md:6,children:c[0]?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("h3",{children:"Chosen Ingredients"}),"Base : ",j," = Rs ",c[0].prices[0][j]," /- \xa0",Object(d.jsx)("br",{})," Sauce : ",h," = Rs ",c[1].prices[0][h]," /- \xa0",Object(d.jsx)("br",{})," Cheese : ",f," = Rs ",c[2].prices[0][f]," /- \xa0",Object(d.jsx)("br",{}),"Topping : ",E," = Rs ",c[3].prices[0][E]," /- \xa0",Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsxs)("h3",{children:["Price : ",c[0].prices[0][j]+c[1].prices[0][h]+c[2].prices[0][f]+c[3].prices[0][E]]}),Object(d.jsx)("br",{})]}):Object(d.jsx)("h1",{})}),Object(d.jsx)(I.a,{md:6,children:Object(d.jsx)(L.a,{onClick:function(){if(console.log("clicked"),c[0])var e=c[0].prices[0][j]+c[1].prices[0][h]+c[2].prices[0][f]+c[3].prices[0][E];var r={name:"Custom Fresh pizza",_id:Math.random(),image:"/images/custom.jpg",prices:[{medium:e}],description:"Base : "+j+", Sauce : "+h+", Cheese : "+f+", Topping : "+E,ingredients:{base:j,sauce:h,cheese:f,veggies:E}};t(G(r,1,"medium",!0))},children:"Add to Cart"})})]})]})]})]}),Object(d.jsx)("br",{})]})]})},ue=function(){var e=Object(a.useState)(""),t=Object(z.a)(e,2),r=t[0],c=t[1],n=Object(a.useState)(!1),s=Object(z.a)(n,2),o=s[0],l=s[1],j=Object(a.useState)(!1),u=Object(z.a)(j,2),b=u[0],O=u[1],h=Object(a.useState)(""),p=Object(z.a)(h,2),x=p[0],m=p[1],g=Object(a.useState)(!1),f=Object(z.a)(g,2),S=f[0],_=f[1],C=Object(a.useState)(!1),R=Object(z.a)(C,2),I=R[0],T=R[1],w=function(){var e=Object(y.a)(v.a.mark((function e(){var t,a,c,n,s;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={email:r},e.next=3,E.a.post("/api/users/finduser",t);case 3:if(a=e.sent,l(a.data.exists),O(!0),!a.data.exists){e.next=17;break}return c=(c=Math.floor(1e6*Math.random())).toString(),n={to:r,subject:"PizzaHut: OTP for account verification",text:"Your OTP for account verification is : "+c},e.next=12,E.a.post("/api/mail/sendmail",n);case 12:return a=e.sent,s={email:r,OTP:c},e.next=16,E.a.post("/api/users/saveOTP",s);case 16:a=e.sent;case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=Object(y.a)(v.a.mark((function e(){var t,a,c,n,s,i;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={email:r,OTP:x},e.next=3,E.a.post("/api/users/validateOTP",t);case 3:if(a=e.sent,c=a.data,n=c.matched,s=c.password,!n){e.next=11;break}return i={to:r,subject:"PizzaHut: Password for re-login",text:"Your Account password is : "+s+". Keep it safe and enjoy shopping!"},e.next=9,E.a.post("/api/mail/sendmail",i);case 9:a=e.sent,T(!0);case 11:_(!0);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)(i.a,{style:{width:"30%","margin-top":"5%",border:"1px solid lightgrey",padding:"2%"},children:[Object(d.jsx)("h3",{children:"Reset your Password"}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),o?Object(d.jsx)(i.a,{children:I?Object(d.jsxs)(d.Fragment,{children:[alert("Password sent on mail"),window.location.href="/login"]}):Object(d.jsxs)(q.a,{children:[Object(d.jsx)("center",{children:Object(d.jsx)("h5",{style:{color:"lightgreen"},children:"OTP sent to email successfully"})}),Object(d.jsxs)(q.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(d.jsx)("br",{}),Object(d.jsx)(q.a.Control,{type:"text",placeholder:"Enter OTP",value:x,onChange:function(e){return m(e.target.value)}})]}),""!==x&&S&&!I?Object(d.jsx)(q.a.Text,{className:"text-muted",children:"OTP does not match"}):Object(d.jsx)("h1",{}),Object(d.jsx)(L.a,{variant:"primary",onClick:A,children:"Send password on mail"})]})}):Object(d.jsxs)(q.a,{children:[Object(d.jsxs)(q.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(d.jsx)(q.a.Label,{children:"Email address"}),Object(d.jsx)(q.a.Control,{type:"email",placeholder:"Enter email",value:r,onChange:function(e){return c(e.target.value)}})]}),""!==r&&b&&!o?Object(d.jsx)(q.a.Text,{className:"text-muted",children:"Email does not exist"}):Object(d.jsx)("h1",{}),Object(d.jsx)(L.a,{variant:"primary",onClick:w,children:"SendOTP"})]})]})})};var be=function(){return Object(d.jsxs)(b.BrowserRouter,{children:[Object(d.jsx)(u,{}),Object(d.jsx)(C,{}),Object(d.jsxs)(O.g,{children:[Object(d.jsx)(O.d,{path:"/admin",component:je}),Object(d.jsx)(O.d,{path:"/about",component:h,exact:!0}),Object(d.jsx)(O.d,{path:"/contact",component:p,exact:!0}),Object(d.jsx)(O.d,{path:"/policy",component:x,exact:!0}),Object(d.jsx)(O.d,{path:"/cart",component:Y,exact:!0}),Object(d.jsx)(O.d,{path:"/",component:F,exact:!0}),Object(d.jsx)(O.d,{path:"/custom",component:de,exact:!0}),Object(d.jsx)(O.d,{path:"/register",component:K,exact:!0}),Object(d.jsx)(O.d,{path:"/login",component:H,exact:!0}),Object(d.jsx)(O.d,{path:"/myorders",component:J,exact:!0}),Object(d.jsx)(O.d,{path:"/reset-password",component:ue,exact:!0})]})]})},Oe=r(29),he=r(95),pe=r(58),xe=r(16),me=Object(Oe.b)({getAllPizzasReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{pizzas:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_PIZZAS_REQUEST":return Object(xe.a)(Object(xe.a)({},e),{},{loading:!0});case"GET_PIZZAS_SUCCESS":return{pizzas:t.payload,loading:!1};case"GET_PIZZAS_FAIL":return{error:t.payload,loading:!1};default:return e}},cartReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cartItems:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TO_CART":var r=e.cartItems.find((function(e){return e._id===t.payload._id&&e.variant===t.payload.variant}));return r?(console.log("name not matched"),Object(xe.a)(Object(xe.a)({},e),{},{cartItems:e.cartItems.map((function(e){return e._id===t.payload._id&&e.variant===t.payload.variant?t.payload:e}))})):Object(xe.a)(Object(xe.a)({},e),{},{cartItems:[].concat(Object(k.a)(e.cartItems),[t.payload])});case"DELETE_FROM_CART":return Object(xe.a)(Object(xe.a)({},e),{},{cartItems:e.cartItems.filter((function(e){return e._id!==t.payload._id||e.variant!==t.payload.variant}))});default:return e}},registerReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REGISTER_USER_REQUEST":return{loading:!0};case"REGISTER_USER_SUCCESS":return{loading:!1,success:!0};case"REGISTER_USER_FAIL":return{error:t.payload};default:return e}},loginReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_USER_REQUEST":return{loading:!0};case"LOGIN_USER_SUCCESS":return{loading:!1,success:!0,currentUser:t.payload};case"LOGIN_USER_FAIL":return{error:t.payload};default:return e}},placeOrderReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ORDER_CREATE_REQUEST":return{loading:!0};case"ORDER_CREATE_SUCCESS":return{loading:!1,success:!0};case"ORDER_CREATE_FAIL":return{error:t.payload};default:return e}},myOrdersReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{orders:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ORDER_REQUEST":return{loading:!0};case"GET_ORDER_SUCCESS":return{loading:!1,success:!0,orders:t.payload};case"GET_ORDER_FAIL":return{error:t.payload};default:return e}},addPizzaReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_PIZZAS_REQUEST":return Object(xe.a)(Object(xe.a)({},e),{},{loading:!0});case"ADD_PIZZAS_SUCCESS":return{success:!0,loading:!1};case"ADD_PIZZAS_FAIL":return{loading:!1,error:t.payload};default:return e}},getPizzaByIdReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_PIZZABYID_REQUEST":return Object(xe.a)(Object(xe.a)({},e),{},{loading:!0});case"GET_PIZZABYID_SUCCESS":return{pizza:t.payload,loading:!1};case"GET_PIZZABYID_FAIL":return{loading:!1,error:t.payload};default:return e}},updatePizzaByIdReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_PIZZABYID_REQUEST":return Object(xe.a)(Object(xe.a)({},e),{},{loading:!0});case"UPDATE_PIZZABYID_SUCCESS":return{updatesuccess:!0,updateloading:!1};case"UPDATE_PIZZABYID_FAIL":return{updateloading:!1,updateerror:t.payload};default:return e}},allUserOrdersReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{orders:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ALL_ORDER_REQUEST":return Object(xe.a)({loading:!0},e);case"ALL_ORDER_SUCCESS":return{loading:!1,success:!0,orders:t.payload};case"ALL_ORDER_FAIL":return{loading:!1,error:t.payload};default:return e}},getAllUsersReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{users:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_USERS_REQUEST":return Object(xe.a)(Object(xe.a)({},e),{},{loading:!0});case"GET_USERS_SUCCESS":return{users:t.payload,loading:!1};case"GET_USERS_FAIL":return{error:t.payload,loading:!1};default:return e}},getAllStockReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{stock:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_STOCK_REQUEST":return Object(xe.a)(Object(xe.a)({},e),{},{loading:!0});case"GET_STOCK_SUCCESS":return{stock:t.payload,loading:!1};case"GET_STOCK_FAIL":return{error:t.payload,loading:!1};default:return e}},mailerReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"MAIL_SEND_REQUEST":return{loading:!0};case"MAIL_SEND_SUCCESS":return{loading:!1,success:!0};case"MAIL_SEND_FAIL":return{error:t.payload};default:return e}}}),ge={cartReducer:{cartItems:localStorage.getItem("cartItems")?JSON.parse(localStorage.getItem("cartItems")):[]},loginReducer:{currentUser:localStorage.getItem("currentUser")?JSON.parse(localStorage.getItem("currentUser")):null}},fe=[pe.a],ve=Object(he.a)({reducer:me,preloadedState:ge,middleware:fe});n.a.render(Object(d.jsx)(g.a,{store:ve,children:Object(d.jsx)(be,{})}),document.getElementById("root"))}},[[132,1,2]]]);
//# sourceMappingURL=main.74e2103c.chunk.js.map